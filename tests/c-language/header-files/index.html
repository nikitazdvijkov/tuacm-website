<!doctype html>
<html lang="en-US">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="description" content="">
		<link rel="icon" type="image/x-icon" href="https://tuacm.com/resources/favicon.png">
		<link rel="stylesheet" href="https://tuacm.com/css/nanobs.css">
		<link rel="stylesheet" href="https://tuacm.com/css/general.css">
		<link rel="stylesheet" href="https://tuacm.com/css/article.css">
		<link rel="stylesheet" href="https://tuacm.com/css/code-style/trac+dark.css">
		<link rel="stylesheet" href="https://tuacm.com/css/code-block.css">
		<link rel="stylesheet" href="https://tuacm.com/css/terminal.css">
		<link rel="stylesheet" href="https://tuacm.com/css/aside.css">
		<style>
			ol .code-block {
				margin-bottom: 0;
			}
			.gcc-error {
				color: #DC2BD9;
				font-weight: bold;
			}
			.gcc-warning {
				color: #AD7FA8;
				font-weight: bold;
			}
			.gcc-note {
				color: #34E2E2;
				font-weight: bold;
			}
			.highlight {
				color: #34E2E2;
			}
			.aside .terminal {
				margin-top: 1em;
			}
			.black-bg {
				background: #000000;
			}
			.spoiler {
				border: 3px solid #B0B0B0;
				padding: 1em;
				border-radius: 8px;
				background: #E6E6FA;
				margin-bottom: 1em;
			}
			.spoiler .content {
				opacity: 0;
			}
			.spoiler .content:hover {
				opacity: 1;
			}
			.spoiler b {
				color: #DC143C;
			}
		</style>
		<link rel="stylesheet" href="https://tuacm.com/css/author-description.css">
		<title>Header Files in C</title>
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-146716017-1"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());
			gtag('config', 'UA-146716017-1');
		</script>
	</head>
	<body id="body-handle">
		<div id="webpage-header" class="text-center py-5 mb-5 bg-yellow" style="background: black;">
			<img src="https://tuacm.com/resources/tuacm-logo.svg?sanitize=True" alt="TU ACM logo." style="width: calc(30% + 150px);">
			<div>
				<a href="https://tuacm.com/blog" class="font-weight-bolder" style="color: #DC144C; font-size: calc(1.5em + 1vw);">blog</a>
			</div>
		</div>
		<div>
			<div class="article">
				<div id="article-title"><h1 id="header-files-in-c">Header Files in C</h1></div>
				<div id="meta-description">The Glue of C Programs</div>
				<div id="date-and-tags">Posted 21 September 2019 at 3:20 PM </div>
				<div id="author-box">
					<div id="author-image" style="background: url(https://tuacm.com/authors/joseph-mellor/large.jpg) 50% 50% no-repeat; background-size: auto 50px;"></div>
					<div id="author-name">By Joseph Mellor</div>
				</div>
				<hr style="border: 3px solid black;">
				<p><i>This is the twelfth article in the </i>Making Sense of C<i> series.
					In this article, we're going to discuss the symbol table, which will explain how
					the compiler functions, and header files, which will allow us to use the
					standard library functions to print things to the terminal, read from files, and
					write to files.</i>
				</p>
				<p>As we stated back in the introduction to the series, we want a standard library
					for <code>C</code> that contains all the basic functionality that a user would need,
					including reading and writing from files, printing out things to the terminal,
					getting user input in the terminal, doing string things, etc.
					So, let's say that we've already written the standard library, likely in a
					combination of machine specific Assembly and <code>C</code>, and we want to let programmers
					use it.
				</p>
				<h2 id="the-problem">The Problem</h2>
				<p>Since we want to compile our programs quickly and organize our code, we have
					decided to write our code in multiple files, compile them separately, then
					combine them together into a single program.
					That way, the next time we make a change, we only have to recompile the changed
					files and then link everything together.
					Furthermore, it's easier to read code and find things if you split them into
					multiple files.
					Everything is all and good until we look at how the <code>C</code> compiler works.
				</p>
				<p>The <code>C</code> compiler will go through each file it needs to compile from top to
					bottom exactly once and then either compile the code or throw an error.
					So now, let's say that you have a function like this
				</p>
				<div class="code-blocktable">
<table><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="code-block"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>				
				</div>
				<p>This function obviously won't compile because we haven't declared the variable
					<code>a</code> with its type in the first line.
					To really understand where the error is, let's read through this like a
					compiler.
				</p>
				<ol>
					<li>
<div class="code-block"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
</pre></div>
						
						This line means that we want to create a function called <code>main</code> that returns an
						<code>int</code> and takes in no arguments.
						All good.
					</li>
					<li>
<div class="code-block"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
</pre></div>
						
						So we want to set <code>a</code> to be <code>4</code>.
						What is <code>a</code>?
						We've never allocated any memory for it and we don't know its type, so we can't
						store anything in it, so this line of code is an error.
					</li>
					<li>We can no longer compile this file, so we're just going to go through the file
						and find the rest of the errors.
					</li>
					<li>
<div class="code-block"><pre><span></span><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
						
						We should allocate some memory for <code>a</code> and store the value of <code>5</code> in that
						memory.
					</li>
					<li>
<div class="code-block"><pre><span></span><span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
						
						There isn't an error in this line.
					</li>
					<li>
<div class="code-block"><pre><span></span><span class="p">}</span>
</pre></div>
						
						There isn't an error in this line.
					</li>
					<li>We've reached the end of the file, so let's spit out the errors and then finish.
						<div class="terminal"><pre><b>test.c:</b> In function <b>‘main’</b>:
<b>test.c:2:2: <span class="gcc-error">error:</span> ‘a’</b> undeclared (first use in this function)
  <span class="gcc-error">a</span> = 4;
  <span class="gcc-error">^</span>
</pre>
						</div>
					</li>
				</ol>
				<p>If you were to correct the code above, your first line containing the <code>a</code>
					variable would have an <code>int a</code>, and all the lines after it would not have an
					<code>int a</code> since we've already declared and allocated memory for that variable.
				</p>
<div class="code-block"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
				
				<p>When the compiler reads this code, everything makes sense and we don't find any
					errors.
					It should be clear that the order in which we make statements in a <code>C</code> file
					makes a big difference, as we would expect from our compiler reading the file
					from the top to the bottom, so if we want to have working code, don't declare
					things before we use them.
				</p>
				<h2 id="the-symbol-table">The Symbol Table</h2>
				<p>When the program gets to <code>a = 5</code> in the corrected <code>C</code> file, how does it know
					that <code>a = 5</code> is valid code?
					Furthermore, when the program gets to <code>a = 4</code> in the incorrect <code>C</code> file, how
					does it know that <code>a = 4</code> is invalid code?
					Without going into too much detail about the inner workings of a compiler,
					<b>your compiler will build a list of all the valid symbols that have been
					declared as it reads through the file</b>.
					In the incorrect <code>C</code> file, <code>a</code> in <code>a = 4</code> isn't in the symbol table because we
					haven't declared it yet.
					When the compiler reads <code>int a;</code> or <code>int a = 4;</code> it assigns a memory address to
					<code>a</code>, which it stores in the symbol table.
					When the compiler reads <code>a = 5</code>, it looks in the symbol table for the name <code>a</code>
					and substitues the assigned memory in the output assembly code.
					<b>If <code>a</code> is not in the symbol table, you will get an error, otherwise, you will
					get the correct memory address</b>.
				</p>
				<p>The symbol table stores more than just local variables.
					It also stores functions and other stuff that you don't need to worry about for
					now (If you're curious, macros, typedefs, etc., but don't worry about them for
					now.).
				</p>
				<h2 id="functions-and-the-symbol-table">Functions and the Symbol Table</h2>
				<p>Let's say I have the following code:
				</p>
				<div class="code-blocktable">
<table><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="code-block"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">300</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">triangular_number</span> <span class="o">=</span> <span class="n">nth_triangular_num</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">nth_triangular_num</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">val</span> <span class="o">+=</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">val</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>				
				</div>
				<p>You might think that this should compile properly.
					Everything is defined properly and there are no syntax errors, so we should be
					fine.
					If I try to compile this code, however, I get this warning:
				</p>
				<div class="terminal"><pre>
<b>test.c:</b> In function <b>‘main’</b>:
<span class="terminal-oneline"><b>test.c:3:29:</b> <span class="gcc-warning">warning:</span> implicit declaration of function ‘nth_triangular_num’ [<span class="gcc-warning">-Wimplicit-function-declaration</span>]</span>
     int triangular_number = <span class="gcc-warning">nth_triangular_num</span>(n);
                             <span class="gcc-warning">^~~~~~~~~~~~~~~~~~</span>
</pre>
				</div>
				<p>which means that something might be wrong with the code, but the compiler is
					going to allow it because it might still work.
				</p>
				<div class="aside" >
					<h5>Syntax of Compiler Warnings</h5>
					<hr>
					<p>When most compilers find an error or a warning in your code, they will tell you
						the name of the file and the line number, then print out the line itself, and
						the error or warning.
					</p>
					<p><code>gcc</code> uses the syntax:
					</p>
					<div class="terminal"><pre>
<b><span class="highlight">[FILE]</span>:</b> In function <b>‘<span class="highlight">[function name]</span>’</b>:
<span class="terminal-oneline"><b><span class="highlight">[FILE]</span>:<span class="highlight">[LINE]</span>:<span class="highlight">[COLUMN]</span>:</b> <span class="gcc-error">error:</span> <span class="highlight">[ERROR DESCRIPTION]</span></span>
<span class="terminal-oneline">  actual line of code with <span class="gcc-error">the error clearly marked</span></span>
<span class="terminal-oneline">                           <span class="gcc-error">^~~~~~~~~~~~~~~~~~~~~~~~</span></span>
</pre>
					</div>
					<p>where everything highlighted like <code><b><span class="highlight black-bg">this</span></b></code> is something that can vary
						depending on the specifics of the error or warning.
						Also, it's possible to have errors outside of functions (which we're going to
						see in a second) in which the first line of the output will say something like
						<code>At top level:</code> instead of <code>In function ...:</code>.
					</p>
					<p>Since you can technically turn off warnings (don't), <code>gcc</code> will also tell you
						what warning was triggered off to the side like it did with <span
						class="black-bg"><code>[<span
						class="gcc-warning">-Wimplicit-function-declaration</span>]</code></span>.
						Don't worry about it for now.
					</p>
					<p>Other compilers can print out error codes, but you mostly need just the file,
						line number, and what the error was.
					</p>
					<p>Lastly, if at any point you get an error or a warning, copy either the error
						description or the error code into a search engine and search for it.
						Feel free to remove anything specific to your project like the line number or
						file.
					</p>
				</div>
				<p>Unlike with variables, <b>if the compiler sees a function it hasn't seen before,
					it will implicity assume that the function returns an <code>int</code> and take in any
					number of parameters of any type</b>.
					Our function just happens to return an <code>int</code>, so it fits the implicit
					declaration.
					On the other hand, if I change the return type of <code>nth_triangular_number</code> to
					<code>unsigned long long</code> and the type of <code>triangular_number</code> to <code>unsigned long
					long</code> like so:
				</p>
				<div class="code-blocktable">
<table><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="code-block"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">300</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">triangular_number</span> <span class="o">=</span> <span class="n">nth_triangular_num</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="nf">nth_triangular_num</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">val</span> <span class="o">+=</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">val</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>				
				</div>
				<p>I get the following warning and <b>error</b>:
				</p>
				<div class="terminal"><pre>
<b>test.c:</b> In function <b>‘main’</b>:
<span class="terminal-oneline"><b>test.c:3:41:</b> <span class="gcc-warning">warning:</span> implicit declaration of function <b>‘nth_triangular_num’</b> [<span class="gcc-warning">-Wimplicit-function-declaration</span>]</span>
<span class="terminal-oneline">  unsigned long long triangular_number = <span class="gcc-warning">nth_triangular_num</span>(n);</span>
<span class="terminal-oneline">                                         <span class="gcc-warning">^~~~~~~~~~~~~~~~~~</span></span>
<span class="terminal-oneline"><b>test.c:</b> At top level:</span>
<span class="terminal-oneline"><b>test.c:7:20:</b> <span class="gcc-error">error:</span> conflicting types for <b>‘nth_triangular_num’</b></span>
<span class="terminal-oneline"> unsigned long long <span class="gcc-error">nth_triangular_num</span>(int n) {</span>
<span class="terminal-oneline">                    <span class="gcc-error">^~~~~~~~~~~~~~~~~~</span></span>
<span class="terminal-oneline"><b>test.c:3:41:</b> <span class="gcc-note">note:</span> previous implicit declaration of <b>‘nth_triangular_num’</b> was here</span>
<span class="terminal-oneline">  unsigned long long triangular_number = <span class="gcc-note">nth_triangular_num</span>(n);</span>
<span class="terminal-oneline">                                         <span class="gcc-note">^~~~~~~~~~~~~~~~~~</span></span>
</pre>
				</div>
				<p>Notice that the compiler thinks we <b>declared</b> (more on what it means to
					declare a function later in the article) <code>nth_triangular_num</code> on line 3
					As we did with the variables above, we can solve this by defining
					<code>nth_triangular_number</code> before we call it.
				</p>
				<div class="code-blocktable">
<table><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="code-block"><pre><span></span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="nf">nth_triangular_num</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">val</span> <span class="o">+=</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">val</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">300</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">triangular_number</span> <span class="o">=</span> <span class="n">nth_triangular_num</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>				
				</div>
				<p>So now, we just need to make sure that we define each function before we call
					it.
					Should be easy enough, right?
					We have two problems with this approach:
				</p>
				<ul>
					<li>If two functions call each other and neither returns an <code>int</code>, we can't write a
						correct program, period.
					</li>
					<li>We have to put all our code into one file, otherwise the <code>C</code> compiler will run
						into functions that were defined in another file.
					</li>
				</ul>
				<p>Putting all our code into one file makes it almost impossible to navigate our
					code and it means we have to recompile our entire code base every time we make a
					change.
					For small projects, the compile time will be about the same, but for larger
					projects, the compile time can get significantly longer.
				</p>
				<p>We need some way to tell the compiler that we want to add something to its
					symbol table without defining it within the file.
				</p>
				<h3 id="declaring-functions">Declaring Functions</h3>
				<p>Let's say you're a compiler and you see the following code:
				</p>
<div class="code-block"><pre><span></span><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">sample_string</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;This is a test. Wouldn&#39;t you agree, Jean Pierre Polnareff?&quot;</span>
<span class="kt">int</span> <span class="n">array</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">21</span> <span class="p">};</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">some_func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">sample_string</span><span class="p">,</span> <span class="n">array</span><span class="p">);</span>
</pre></div>
				
				<p>What would you, as a compiler, need to know to determine if <code>a = some_func(a,
					sample_string, array)</code> is a valid line of code?
					Try to find out on your own, then mouse over the box below to reveal the answer.
				</p>
				<div class="spoiler">
					<div class="content">
					<p>In order to know if a function is going to be used properly, the compiler needs
						to know
					</p>
					<ul>
						<li>the <b>return type</b>,
						</li>
						<li>the <b>types of its arguments</b>,
						</li>
						<li>and <b>the name of the function</b>.
						</li>
					</ul>
					</div>
				</div>
				<p>If we know these details about the function, we should be able to add the
					function to our symbol table, so we just need to find a way to tell this
					information to the compiler.
					We don't want to waste any typing, so let's just use the syntax:
				</p>
<div class="code-block"><pre><span></span><span class="n">return_type</span> <span class="nf">no_argument_function</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="n">return_type</span> <span class="nf">one_argument_function</span><span class="p">(</span><span class="n">first_type</span><span class="p">);</span>
<span class="n">return_type</span> <span class="nf">two_argument_function</span><span class="p">(</span><span class="n">first_type</span><span class="p">,</span> <span class="n">second_type</span><span class="p">);</span>
<span class="n">return_type</span> <span class="nf">three_argument_function</span><span class="p">(</span><span class="n">first_type</span><span class="p">,</span> <span class="n">second_type</span><span class="p">,</span> <span class="n">third_type</span><span class="p">);</span>
</pre></div>
				
				<p>For <code>nth_triangular_num</code>, we would use
				</p>
<div class="code-block"><pre><span></span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="nf">nth_triangular_num</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">);</span>
</pre></div>
				
				<p>Even though it isn't strictly necessary to put the parameter names, I do so I
					can look back and figure out what the arguments should be.
				</p>
<div class="code-block"><pre><span></span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="nf">nth_triangular_num</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">n</span><span class="p">);</span>
</pre></div>
				
				<p>In our code, we can use
				</p>
				<div class="code-blocktable">
<table><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="code-block"><pre><span></span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="nf">nth_triangular_num</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">n</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">300</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">triangular_number</span> <span class="o">=</span> <span class="n">nth_triangular_num</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="nf">nth_triangular_num</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">val</span> <span class="o">+=</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">val</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>				
				</div>
				<p>and our code will compile just fine since we've added <code>nth_triangular_num</code> to
					the symbol table.
					As a shortcut, just copy the first line of the definition of the function and
					replace everything after <code>)</code> with a semicolon (<code>;</code>).
				</p>
<div class="code-block"><pre><span></span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="nf">nth_triangular_num</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// Definition</span>
<span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">nth_triangular_num</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">n</span><span class="p">);</span>   <span class="c1">// Declaration</span>
</pre></div>
				
				<p>You can declare a function as many times as you would like since you're just
					adding to the symbol table, but you can only define it once since the compiler
					needs to know exactly what you want to do when you call <code>nth_triangular_num</code>.
				</p>
				<h2 id="header-files">Header Files</h2>
				<p>Given that we've gotten to this point without mentioning <b>Header Files</b> in
					an article called <b>Header Files in C</b>, you can imagine that <b>Header
					Files</b> will allow us to copy a file into our source file.
					In general, we use header files to store everything we want to be in the symbol
					table (including functions, macros, typedefs, etc.) that we don't want to put in
					our code manually, which makes our code easier to read and less error prone
					since we might copy something incorrectly.
					While <code>C</code> source files have the extension <code>.c</code>, header files have the extension
					<code>.h</code>.
					There is no hard requirement for the extensions on the file but it's standard
					across all of <code>C</code>.
				</p>
				<p>Making header files is good, but we need a way to tell the <code>C</code> compiler to copy
					and paste them into our code without modifying the source code itself.
					Since this part of the compiler is going to process the input before the
					compiler, we call it the <b>preprocessor</b>.
				</p>
				<div class="aside" >
					<h5>The Full Compiler</h5>
					<hr>
					<p>Your compiler consists of
					</p>
					<ol>
						<li>the <b>preprocessor</b>, which processes the files before running the compiler
							using <b>macros</b> (As a working definition, statements that start with a <code>#</code>.
							We'll only have to work with one macro for now, which we'll discuss in the next
							section.),
						</li>
						<li>the <b>compiler</b>, which converts source files into object files containing
							assembly and other useful information for the linker,
						</li>
						<li>the <b>linker</b>, which glues the compiled object files together into one
							singular file,
						</li>
						<li>and the <b>assembler</b>, which converts the singular file the linker produces
							into machine code.
						</li>
					</ol>
					<p>Different compilers might have another subprogram or two inside them or they
						might run the assembler before the linker, but it really doesn't matter.
					</p>
				</div>
				<h3 id="the-include-statement">The <code>#include</code> Statement</h3>
				<p>The <code>#include</code> statement will copy and paste whatever argument it's been given
					into the current file.
					There are two use cases that have slightly different syntax:
				</p>
				<ul>
					<li>If it's a header file you've written or copied and pasted into your local
						project and it's in a local directory, then use:
<div class="code-block"><pre><span></span><span class="cp">#include</span> <span class="cpf">&quot;file.h&quot;</span><span class="cp"></span>
</pre></div>
						
					</li>
					<li>If it's a file included in the standard library, then use:
<div class="code-block"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;std_file.h&gt;</span><span class="cp"></span>
</pre></div>
						
					</li>
				</ul>
				<p>The difference between <code>&lt;std_file.h&gt;</code> and <code>"file.h"</code> is just that the
					angle brackets tell it to look for the file in the standard library directories
					(which are the same for every <code>C</code> and <code>C++</code> program unless you're doing
					something weird) and the quotes tell it to look for the file in local
					directories.
				</p>
				<h3 id="a-simple-example">A Simple Example</h3>
				<p>We could write our previous code with the triangular numbers as
				</p>
				<div class="code-blocktable">
<table><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="code-block"><pre><span></span><span class="c1">// triangular_numbers.h</span>

<span class="c1">// If you&#39;re experienced in C, you know I&#39;m missing header guards, but I&#39;m</span>
<span class="c1">// going to neglect them for now and bring them back later in the tutorial</span>
<span class="c1">// since showing people things before they have a clear application will</span>
<span class="c1">// often just confuse them.</span>
<span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="nf">nth_triangular_num</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">n</span><span class="p">);</span>
</pre></div>
</td></tr></table>				
				</div>
				<p>in the header file for the triangular numbers (<code>triangular_numbers.h</code>),
				</p>
				<div class="code-blocktable">
<table><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="code-block"><pre><span></span><span class="c1">// triangular_numbers.c</span>

<span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="nf">nth_triangular_num</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">val</span> <span class="o">+=</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">val</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>				
				</div>
				<p>in the source file for the triangular numbers (<code>triangular_numbers.c</code>), and
				</p>
				<div class="code-blocktable">
<table><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="code-block"><pre><span></span><span class="c1">// main.c</span>
<span class="cp">#include</span> <span class="cpf">&quot;triangular_numbers.h&quot;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">300</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">triangular_number</span> <span class="o">=</span> <span class="n">nth_triangular_num</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>				
				</div>
				<p>in the source file for the <code>main</code> function (<code>main.c</code>).
					As you can see, the source file and the header file containing information about
					the <code>nth_triangular_num</code> function had the same name <code>triangular_numbers</code> but a
					different extension (<code>.c</code> vs <code>.h</code>).
					You should generally follow this pattern in simple cases, but there are some
					cases in which you have to use different file names, but we're not going to
					worry about that for now.
				</p>
				<div class="aside" style="border-width: 8px; border-radius: 12px;">
					<h4 style="color: red; text-align: center;">WARNING</h4><hr>
					<p>If you stop this tutorial right now, you need to make sure to use <a
						href="https://en.wikipedia.org/wiki/Include_guard"><b>header guards</b></a> in
						your headers or else you could get errors while compiling.
					</p>
					<p>Header guards look like
					</p>
					<div class="code-blocktable">
<table><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="code-block"><pre><span></span><span class="cp">#ifndef NAME_OF_THIS_FILE_H</span>
<span class="cp">#define NAME_OF_THIS_FILE_H</span>

<span class="c1">// Everything you would normally put inside the header file.</span>

<span class="cp">#endif</span>
</pre></div>
</td></tr></table>					
					</div>
					<p>I will explain <b>header guards</b> in a later article in this series.
					</p>
				</div>
				<p>Later on, we can improve our algorithm to calculate the triangular numbers by
					just modifying the file <code>triangular_numbers.c</code> like so:
				</p>
				<div class="code-blocktable">
<table><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="code-block"><pre><span></span><span class="c1">//triangular_numbers.c</span>

<span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="nf">nth_triangular_num</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">((</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span><span class="p">)</span><span class="n">n</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="n">n</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>				
				</div>
				<p>In this simple example, it might not make sense to make three different files
					since we're saving microseconds of compile time and it's still easy to navigate
					our code, so let's look at a more realistic example: our word counter program.
				</p>
				<h3 id="using-standard-library-functions">Using Standard Library Functions</h3>
				<p>For now, let's say we're going to use the standard library functions <code>fopen</code>,
					<code>fclose</code>, <code>fgets</code>, <code>printf</code>, and <code>perror</code>.
					We'll also use the "type" (it's actually a <code>struct</code>, but we'll get into that
					later) <code>FILE</code>.
					To use all these functions, we would have to write (don't worry about the
					specifics, just look at how much we have to type each time)
				</p>
				<div class="code-blocktable">
<table><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="code-block"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_IO_FILE</span> <span class="kt">FILE</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">fscanf</span><span class="p">(</span><span class="kt">FILE</span> <span class="o">*</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="p">...);</span>
<span class="kt">int</span> <span class="nf">fclose</span><span class="p">(</span><span class="kt">FILE</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">FILE</span> <span class="o">*</span> <span class="nf">fopen</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="nf">printf</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="p">...);</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do stuff</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>				
				</div>
				<p>except that's not right because I also need to come up with a definition of an
					<code>_IO_FILE</code> (you will never use <code>_IO_FILE</code>, it's just an under the hood thing to
					make <code>C</code> work with <code>C++</code>, you will use <code>FILE</code> instead), which <a
					href="https://code.woboq.org/userspace/glibc/libio/bits/types/struct_FILE.h.html">itself
					is around 120 lines of code</a> and I might have missed something going through
					the standard library <code>C</code> code, so it could be even longer.
					In other words, if you want to print things out to the terminal or do anything
					with files, you need to copy at least 120 lines into every file that uses these
					functions.
				</p>
				<p>With header files, however, we can use <code>stdio.h</code> (<code>st</code>an<code>d</code>ard <code>i</code>nput and
					<code>o</code>utput <code>h</code>eader file), which has all the stuff we need written for us already.
					There are other header files, but we're just going to use <code>stdio.h</code> for now.
				</p>
				<h2 id="summary">Summary</h2>
				<p>In this article, we learned about
				</p>
				<ul>
					<li>the symbol table, which helps the compiler recognize valid code,
					</li>
					<li>function declarations, which allow us to add functions to the symbol table,
					</li>
					<li>the syntax of compiler warnings, which will help us debug our code later,
					</li>
					<li>the preprocessor, which can generate code for us during compilation without
						modifying the original source file,
					</li>
					<li>and header files, which contain function declarations and other stuff that we'll
						learn about later that allow us to automate some of the process of addings
						things to the symbol table.
					</li>
				</ul>
				<h2 id="whats-next">What's Next</h2>
				<p>Here is everything we have up to this point in code:
				</p>
				<div class="code-blocktable">
<table><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="code-block"><pre><span></span><span class="hll"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
</span>
<span class="kt">int</span> <span class="nf">check_if_strings_differ</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span> <span class="n">str1</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">str2</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="o">*</span> <span class="n">program_name</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// TODO: Print Usage Message</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kt">char</span> <span class="o">*</span> <span class="n">filename</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
    <span class="kt">char</span> <span class="o">*</span> <span class="n">word</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="c1">// TODO: Count number of occurrences in a file</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">check_if_strings_differ</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span> <span class="n">str1</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">str2</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">str1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">str2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">str1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">str2</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="p">{</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">str1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">str2</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>				
				</div>
				<p>The only new thing is the line <code>#include &lt;stdio.h&gt;</code>, but this line
					will allow us to use the functions we need to use for our program.
				</p>
				<p>All we have left to do to write our word counter program is:
				</p>
				<ul>
					<li>figure out the syntax for a few standard library functions (<code>printf</code>, <code>fopen</code>,
						<code>fclose</code>, and <code>fscanf</code>),
					</li>
					<li>use the functions to write our code,
					</li>
					<li>set up and use a compiler,
					</li>
					<li>and familiarize ourselves with an IDE/text editor.
					</li>
				</ul>
				<p>In the next article, we're going to figure out how to work with <a
					href="../files-1/">Files in C</a> to write our first completed program.
					After that, we're going to discuss how to interact with files and the terminal
					in <code>C</code>.
					Then, we're going to figure out how to put our code into an IDE/compiler/build
					system and then compile it.
					After that point, <b>we will have written our first <code>C</code> program!</b>
				</p>
			</div>
			<div class="article">
				<div id="author-description-local">
					<img src="https://tuacm.com/authors/joseph-mellor/large.jpg" id="author-description-image" alt="A picture of Joseph Mellor, the author.">
					<div id="author-description-text">
						<p>Joseph Mellor is a Junior at TU majoring in Physics, Computer Science, and
							Math.
							He is also the chief editor of the website and the author of the tumd markdown
							compiler.
							If you want to see more of his work, check out his <a
							href="https://github.com/TheLandfill">github repository</a>.
							<br>
							Credit to Allison Pennybaker for the picture.
						</p>
					</div>
				</div>
			</div>
			<nav id="sidenav">
				<a href="#header-files-in-c" style="padding-left:12px;">Header Files in C</a>
				<a href="#the-problem" style="padding-left:24px;">The Problem</a>
				<a href="#the-symbol-table" style="padding-left:24px;">The Symbol Table</a>
				<a href="#functions-and-the-symbol-table" style="padding-left:24px;">Functions and the Symbol Table</a>
				<a href="#declaring-functions" style="padding-left:36px;">Declaring Functions</a>
				<a href="#header-files" style="padding-left:24px;">Header Files</a>
				<a href="#the-include-statement" style="padding-left:36px;">The <code>#include</code> Statement</a>
				<a href="#a-simple-example" style="padding-left:36px;">A Simple Example</a>
				<a href="#using-standard-library-functions" style="padding-left:36px;">Using Standard Library Functions</a>
				<a href="#summary" style="padding-left:24px;">Summary</a>
				<a href="#whats-next" style="padding-left:24px;">What's Next</a>
			</nav>
			<div id="sidenav-activator"></div>
		</div>
		<div id="footer" class="mt-5 py-5 text-center px-4">
			<div id="footer-links">
				<a href="#">Blog</a>
				<a href="#">Get Involved</a>
				<a href="http://hacktulsa.com">Hackathon</a>
				<a href="#">GitHub</a>
			</div>
		</div>
		<script src="https://tuacm.com/js/sidenav.js"></script>
	</body>
</html>
